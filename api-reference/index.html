



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://roblox.github.io/roact/api-reference/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.6.6">
    
    
      
        <title>API Reference - Roact Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.78aab2dc.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../css/component-diagram.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#roact-api-reference" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://roblox.github.io/roact/" title="Roact Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Roact Documentation
              </span>
              <span class="md-header-nav__topic">
                API Reference
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/Roblox/roact/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Roblox/roact
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Roact Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/Roblox/roact/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Roblox/roact
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/hello-roact/" title="Hello, Roact!" class="md-nav__link">
      Hello, Roact!
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/elements/" title="Elements" class="md-nav__link">
      Elements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/components/" title="Components" class="md-nav__link">
      Components
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/state-and-lifecycle/" title="State and Lifecycle" class="md-nav__link">
      State and Lifecycle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/events/" title="Events" class="md-nav__link">
      Events
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Advanced Concepts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Advanced Concepts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../advanced/portals/" title="Portals" class="md-nav__link">
      Portals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../advanced/refs/" title="Refs" class="md-nav__link">
      Refs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../advanced/context/" title="Context" class="md-nav__link">
      Context
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        API Reference
      </label>
    
    <a href="./" title="API Reference" class="md-nav__link md-nav__link--active">
      API Reference
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#methods" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#roactcreateelement" title="Roact.createElement" class="md-nav__link">
    Roact.createElement
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactreify" title="Roact.reify" class="md-nav__link">
    Roact.reify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactreconcile" title="Roact.reconcile" class="md-nav__link">
    Roact.reconcile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactteardown" title="Roact.teardown" class="md-nav__link">
    Roact.teardown
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactonechild" title="Roact.oneChild" class="md-nav__link">
    Roact.oneChild
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constants" title="Constants" class="md-nav__link">
    Constants
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#roactchildren" title="Roact.Children" class="md-nav__link">
    Roact.Children
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactref" title="Roact.Ref" class="md-nav__link">
    Roact.Ref
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactevent" title="Roact.Event" class="md-nav__link">
    Roact.Event
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-types" title="Component Types" class="md-nav__link">
    Component Types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#roactcomponent" title="Roact.Component" class="md-nav__link">
    Roact.Component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactpurecomponent" title="Roact.PureComponent" class="md-nav__link">
    Roact.PureComponent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactportal" title="Roact.Portal" class="md-nav__link">
    Roact.Portal
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-api" title="Component API" class="md-nav__link">
    Component API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#init" title="init" class="md-nav__link">
    init
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render" title="render" class="md-nav__link">
    render
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setstate" title="setState" class="md-nav__link">
    setState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shouldupdate" title="shouldUpdate" class="md-nav__link">
    shouldUpdate
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lifecycle-events" title="Lifecycle Events" class="md-nav__link">
    Lifecycle Events
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#didmount" title="didMount" class="md-nav__link">
    didMount
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#willunmount" title="willUnmount" class="md-nav__link">
    willUnmount
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#willupdate" title="willUpdate" class="md-nav__link">
    willUpdate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#didupdate" title="didUpdate" class="md-nav__link">
    didUpdate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getderivedstatefromprops" title="getDerivedStateFromProps" class="md-nav__link">
    getDerivedStateFromProps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#methods" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#roactcreateelement" title="Roact.createElement" class="md-nav__link">
    Roact.createElement
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactreify" title="Roact.reify" class="md-nav__link">
    Roact.reify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactreconcile" title="Roact.reconcile" class="md-nav__link">
    Roact.reconcile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactteardown" title="Roact.teardown" class="md-nav__link">
    Roact.teardown
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactonechild" title="Roact.oneChild" class="md-nav__link">
    Roact.oneChild
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constants" title="Constants" class="md-nav__link">
    Constants
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#roactchildren" title="Roact.Children" class="md-nav__link">
    Roact.Children
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactref" title="Roact.Ref" class="md-nav__link">
    Roact.Ref
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactevent" title="Roact.Event" class="md-nav__link">
    Roact.Event
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-types" title="Component Types" class="md-nav__link">
    Component Types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#roactcomponent" title="Roact.Component" class="md-nav__link">
    Roact.Component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactpurecomponent" title="Roact.PureComponent" class="md-nav__link">
    Roact.PureComponent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roactportal" title="Roact.Portal" class="md-nav__link">
    Roact.Portal
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-api" title="Component API" class="md-nav__link">
    Component API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#init" title="init" class="md-nav__link">
    init
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render" title="render" class="md-nav__link">
    render
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setstate" title="setState" class="md-nav__link">
    setState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shouldupdate" title="shouldUpdate" class="md-nav__link">
    shouldUpdate
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lifecycle-events" title="Lifecycle Events" class="md-nav__link">
    Lifecycle Events
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#didmount" title="didMount" class="md-nav__link">
    didMount
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#willunmount" title="willUnmount" class="md-nav__link">
    willUnmount
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#willupdate" title="willUpdate" class="md-nav__link">
    willUpdate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#didupdate" title="didUpdate" class="md-nav__link">
    didUpdate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getderivedstatefromprops" title="getDerivedStateFromProps" class="md-nav__link">
    getDerivedStateFromProps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Roblox/roact/edit/master/docs/api-reference.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="roact-api-reference">Roact API Reference<a class="headerlink" href="#roact-api-reference" title="Permanent link">&para;</a></h1>
<h2 id="methods">Methods<a class="headerlink" href="#methods" title="Permanent link">&para;</a></h2>
<h3 id="roactcreateelement">Roact.createElement<a class="headerlink" href="#roactcreateelement" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>Roact.createElement(component, [props, [children]]) -&gt; RoactElement
</pre></div>

<p>Creates a new Roact element representing the given <code>component</code>.</p>
<p>The <code>children</code> argument is shorthand for adding a <code>Roact.Children</code> key to <code>props</code>. It should be specified as a dictionary of names to elements.</p>
<p><code>component</code> can be a string, a function, or a table created by <code>Component:extend</code>.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Once <code>props</code> or <code>children</code> are passed into the <code>createElement</code>, make sure not to modify them!</p>
</div>
<h3 id="roactreify">Roact.reify<a class="headerlink" href="#roactreify" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>Roact.reify(element, [parent, [key]]) -&gt; ComponentInstanceHandle
</pre></div>

<p>Creates a Roblox Instance given a Roact element, and optionally a <code>parent</code> to put it in, and a <code>key</code> to use as the instance's <code>Name</code>.</p>
<p>The result is a <code>ComponentInstanceHandle</code>, which is an opaque handle that represents this specific instance of the root component. You can pass this to APIs like <code>Roact.teardown</code> and the future debug API.</p>
<h3 id="roactreconcile">Roact.reconcile<a class="headerlink" href="#roactreconcile" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>Roact.reconcile(instanceHandle, element) -&gt; ComponentInstanceHandle
</pre></div>

<p>Updates an existing instance handle with a new element, returning a new handle.</p>
<p><code>reconcile</code> can be used to change the props of a component instance created with <code>reify</code> and is useful for putting Roact content into non-Roact applications.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code>Roact.reconcile</code> takes ownership of the <code>instanceHandle</code> passed into it and may tear it down and create a new tree!</p>
<p>Make sure to use the handle that <code>reconcile</code> returns in any operations after <code>reconcile</code>, including <code>teardown</code>.</p>
</div>
<h3 id="roactteardown">Roact.teardown<a class="headerlink" href="#roactteardown" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>Roact.teardown(instance) -&gt; void
</pre></div>

<p>Destroys the given <code>ComponentInstanceHandle</code> and all of its descendents. Does not operate on a Roblox Instance -- this must be given a handle that was returned by <code>Roact.reify</code>.</p>
<h3 id="roactonechild">Roact.oneChild<a class="headerlink" href="#roactonechild" title="Permanent link">&para;</a></h3>
<p><code>Roact.oneChild(children) -&gt; RoactElement | nil</code></p>
<p>Given a dictionary of children, returns a single child element.</p>
<p>If <code>children</code> contains more than one child, <code>oneChild</code> function will throw an error. This is intended to denote an error when using the component using <code>oneChild</code>.</p>
<p>If <code>children</code> is <code>nil</code> or contains no children, <code>oneChild</code> will return <code>nil</code>.</p>
<h2 id="constants">Constants<a class="headerlink" href="#constants" title="Permanent link">&para;</a></h2>
<h3 id="roactchildren">Roact.Children<a class="headerlink" href="#roactchildren" title="Permanent link">&para;</a></h3>
<p>This is the key that Roact uses internally to store the children that are attached to a Roact element.</p>
<p>If you're writing a new functional or stateful element that needs to be used like a primitive component, you can access <code>Roact.Children</code> in your props table.</p>
<h3 id="roactref">Roact.Ref<a class="headerlink" href="#roactref" title="Permanent link">&para;</a></h3>
<p>Use <code>Roact.Ref</code> as a key into the props of a primitive element to receive a handle to the underlying Roblox Instance.</p>
<div class="codehilite"><pre><span></span><span class="n">Roact</span><span class="p">.</span><span class="n">createElement</span><span class="p">(</span><span class="s2">&quot;Frame&quot;</span><span class="p">,</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">Roact</span><span class="p">.</span><span class="n">Ref</span><span class="p">]</span> <span class="o">=</span> <span class="kr">function</span><span class="p">(</span><span class="n">rbx</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Roblox Instance&quot;</span><span class="p">,</span> <span class="n">rbx</span><span class="p">)</span>
    <span class="kr">end</span><span class="p">,</span>
<span class="p">})</span>
</pre></div>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code>Roact.Ref</code> will be called with <code>nil</code> when the component instance is destroyed!</p>
</div>
<p>See <a href="../advanced/refs.html">the refs guide</a> for more details.</p>
<h3 id="roactevent">Roact.Event<a class="headerlink" href="#roactevent" title="Permanent link">&para;</a></h3>
<p>Index into <code>Roact.Event</code> to receive a key that can be used to connect to events when creating primitive elements:</p>
<div class="codehilite"><pre><span></span><span class="n">Roact</span><span class="p">.</span><span class="n">createElement</span><span class="p">(</span><span class="s2">&quot;ImageButton&quot;</span><span class="p">,</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">Roact</span><span class="p">.</span><span class="n">Event</span><span class="p">.</span><span class="n">MouseButton1Click</span><span class="p">]</span> <span class="o">=</span> <span class="kr">function</span><span class="p">(</span><span class="n">rbx</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">rbx</span><span class="p">,</span> <span class="s2">&quot;clicked at position&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="kr">end</span><span class="p">,</span>
<span class="p">})</span>
</pre></div>

<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Event callbacks receive the Roblox Instance as the first parameter, followed by any parameters yielded by the event.</p>
</div>
<p>See <a href="../guide/events/">the events guide</a> for more details.</p>
<h2 id="component-types">Component Types<a class="headerlink" href="#component-types" title="Permanent link">&para;</a></h2>
<h3 id="roactcomponent">Roact.Component<a class="headerlink" href="#roactcomponent" title="Permanent link">&para;</a></h3>
<p>The base component instance that can be extended to make stateful components.</p>
<p>Call <code>Roact.Component:extend("ComponentName")</code> to make a new stateful component with a given name.</p>
<h3 id="roactpurecomponent">Roact.PureComponent<a class="headerlink" href="#roactpurecomponent" title="Permanent link">&para;</a></h3>
<p>An extension of <code>Roact.Component</code> that only re-renders if its props or state change.</p>
<p><code>PureComponent</code> implements the <code>shouldUpdate</code> lifecycle event with a shallow equality comparison. It's optimized for use with immutable data structures, which makes it a perfect fit for use with frameworks like Rodux.</p>
<p><code>PureComponent</code> is not <em>always</em> faster, but can often result in significant performance improvements when used correctly.</p>
<h3 id="roactportal">Roact.Portal<a class="headerlink" href="#roactportal" title="Permanent link">&para;</a></h3>
<p>A component that represents a <em>portal</em> to a Roblox Instance. Portals are created using <code>Roact.createElement</code>.</p>
<p>Any children of a portal are put inside the Roblox Instance specified by the required <code>target</code> prop. That Roblox Instance should not be one created by Roact.</p>
<p>Portals are useful for creating dialogs managed by deeply-nested UI components, and enable Roact to represent and manage multiple disjoint trees at once.</p>
<p>See <a href="../advanced/portals/">the Portals guide</a> for a small tutorial and more details about portals.</p>
<h2 id="component-api">Component API<a class="headerlink" href="#component-api" title="Permanent link">&para;</a></h2>
<h3 id="init">init<a class="headerlink" href="#init" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>init(initialProps) -&gt; void
</pre></div>

<p><code>init</code> is called exactly once when a new instance of a component is created. It can be used to set up the initial <code>state</code>, as well as any non-<code>render</code> related values directly on the component.</p>
<p><code>init</code> is the only place where you can assign to <code>state</code> directly, as opposed to using <code>setState</code>:</p>
<div class="codehilite"><pre><span></span><span class="kr">function</span> <span class="nc">MyComponent</span><span class="p">:</span><span class="nf">init</span><span class="p">()</span>
    <span class="n">self</span><span class="p">.</span><span class="n">state</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">position</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">velocity</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="p">}</span>
<span class="kr">end</span>
</pre></div>

<h3 id="render">render<a class="headerlink" href="#render" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>render() -&gt; Element | nil
</pre></div>

<p><code>render</code> describes what a component should display at the current instant in time.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Roact assumes that <code>render</code> act likes a pure function: the result of <code>render</code> must depend only on <code>props</code> and <code>state</code>, and it must not have side-effects.</p>
</div>
<div class="codehilite"><pre><span></span><span class="kr">function</span> <span class="nc">MyComponent</span><span class="p">:</span><span class="nf">render</span><span class="p">()</span>
    <span class="c1">-- This is okay:</span>
    <span class="kr">return</span> <span class="n">Roact</span><span class="p">.</span><span class="n">createElement</span><span class="p">(</span><span class="s2">&quot;TextLabel&quot;</span><span class="p">,</span> <span class="p">{</span>
        <span class="n">Text</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">props</span><span class="p">.</span><span class="n">text</span><span class="p">,</span>
        <span class="n">Position</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">state</span><span class="p">.</span><span class="n">position</span>
    <span class="p">})</span>

    <span class="c1">-- Ack! Depending on values outside props/state is not allowed!</span>
    <span class="kr">return</span> <span class="n">Roact</span><span class="p">.</span><span class="n">createElement</span><span class="p">(</span><span class="s2">&quot;TextLabel&quot;</span><span class="p">,</span> <span class="p">{</span>
        <span class="n">Text</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">someText</span><span class="p">,</span>
        <span class="n">Position</span> <span class="o">=</span> <span class="n">getMousePosition</span><span class="p">(),</span>
    <span class="p">})</span>
<span class="kr">end</span>
</pre></div>

<p><code>render</code> must be defined for all components. The default implementation of <code>render</code> throws an error; if your component does not render anything, define a render function that returns <code>nil</code> explicitly.</p>
<div class="codehilite"><pre><span></span><span class="kr">function</span> <span class="nc">MyComponent</span><span class="p">:</span><span class="nf">render</span><span class="p">()</span>
    <span class="kr">return</span> <span class="kc">nil</span>
<span class="kr">end</span>
</pre></div>

<h3 id="setstate">setState<a class="headerlink" href="#setstate" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>setState(newState) -&gt; void
</pre></div>

<p><code>setState</code> merges a table of new state values (<code>newState</code>) onto the existing <code>state</code> and re-renders the component if necessary. Existing values are not affected.</p>
<div class="codehilite"><pre><span></span><span class="kr">function</span> <span class="nc">MyComponent</span><span class="p">:</span><span class="nf">didMount</span><span class="p">()</span>
    <span class="n">self</span><span class="p">:</span><span class="n">setState</span><span class="p">({</span>
        <span class="n">foo</span> <span class="o">=</span> <span class="s2">&quot;bar&quot;</span>
    <span class="p">})</span>
<span class="kr">end</span>
</pre></div>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Calling <code>setState</code> from any of these places is not allowed and will throw an error:</p>
<ul>
<li>Lifecycle hooks: <code>willUpdate</code>, <code>willUnmount</code></li>
<li>Initialization: <code>init</code></li>
<li>Pure functions: <code>render</code>, <code>shouldUpdate</code></li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Future API Changes</p>
<p>Depending on current <code>state</code> in <code>setState</code> may cause subtle bugs when Roact starts supporting <a href="https://github.com/Roblox/roact/issues/18">asynchronous rendering</a>.</p>
<p>A new API similar to React <a href="https://github.com/Roblox/roact/issues/33">is being introduced</a> to solve this problem. This documentation will be updated when that API is released.</p>
</div>
<h3 id="shouldupdate">shouldUpdate<a class="headerlink" href="#shouldupdate" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>shouldUpdate(nextProps, nextState) -&gt; bool
</pre></div>

<p><code>shouldUpdate</code> provides a way to override Roact's rerendering heuristics.</p>
<p>Right now, components are re-rendered any time a parent component updates, or when state is updated via <code>setState</code>.</p>
<p><code>PureComponent</code> implements <code>shouldUpdate</code> to only trigger a re-render any time the props are different based on shallow equality. In a future Roact update, <em>all</em> components may implement this check by default.</p>
<h2 id="lifecycle-events">Lifecycle Events<a class="headerlink" href="#lifecycle-events" title="Permanent link">&para;</a></h2>
<p>Roact exposes a number of events that stateful components can hook into to be notified of various steps in the rendering process.</p>
<p>Mounting:</p>
<div class="component-diagram" aria-role="presentation">
    <span class="component-diagram-box">init</span>
    <span class="component-diagram-arrow">➝</span>
    <span class="component-diagram-box">render</span>
    <span class="component-diagram-arrow">➝</span>
    <span class="component-diagram-box">didMount</span>
</div>

<p>Updating:</p>
<div class="component-diagram" aria-role="presentation">
    <span class="component-diagram-box">shouldUpdate?</span>
    <span class="component-diagram-arrow">➝</span>
    <span class="component-diagram-box">willUpdate</span>
    <span class="component-diagram-arrow">➝</span>
    <span class="component-diagram-box">render</span>
    <span class="component-diagram-arrow">➝</span>
    <span class="component-diagram-box">didUpdate</span>
</div>

<p>Unmounting:</p>
<div class="component-diagram" aria-role="presentation">
    <span class="component-diagram-box">willUnmount</span>
</div>

<h3 id="didmount">didMount<a class="headerlink" href="#didmount" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>didMount() -&gt; void
</pre></div>

<p><code>didMount</code> is fired after the component finishes its initial render. At this point, all associated Roblox Instances have been created, and all components have finished mounting.</p>
<p><code>didMount</code> is a good place to start initial network communications, attach events to services, or modify the Roblox Instance hierarchy.</p>
<h3 id="willunmount">willUnmount<a class="headerlink" href="#willunmount" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>willUnmount() -&gt; void
</pre></div>

<p><code>willUnmount</code> is fired right before Roact begins tearing down a component instance's children.</p>
<p><code>willUnmount</code> acts like a component's destructor, and is a good place to disconnect any manually-connected events.</p>
<h3 id="willupdate">willUpdate<a class="headerlink" href="#willupdate" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>willUpdate(nextProps, nextState) -&gt; void
</pre></div>

<p><code>willUpdate</code> is fired after an update is started but before a component's state and props are updated.</p>
<h3 id="didupdate">didUpdate<a class="headerlink" href="#didupdate" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>didUpdate(previousProps, previousState) -&gt; void
</pre></div>

<p><code>didUpdate</code> is fired after at the end of an update. At this point, the reconciler has updated the properties of any Roblox Instances and the component instance's props and state are up to date.</p>
<p><code>didUpdate</code> is a good place to send network requests or dispatch Rodux actions, but make sure to compare <code>self.props</code> and <code>self.state</code> with <code>previousProps</code> and <code>previousState</code> to avoid triggering too many updates.</p>
<h3 id="getderivedstatefromprops">getDerivedStateFromProps<a class="headerlink" href="#getderivedstatefromprops" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>static getDerivedStateFromProps(nextProps, lastState) -&gt; nextStateSlice
</pre></div>

<p>Used to recalculate any state that depends on being synchronized with <code>props</code>.</p>
<p>Generally, you should use <code>didUpdate</code> to respond to props changing. If you find yourself copying props values to state as-is, consider using props or memoization instead.</p>
<p><code>getDerivedStateFromProps</code> should return a table that contains the part of the state that should be updated.</p>
<div class="codehilite"><pre><span></span><span class="kr">function</span> <span class="nc">MyComponent</span><span class="p">.</span><span class="nf">getDerivedStateFromProps</span><span class="p">(</span><span class="n">nextProps</span><span class="p">,</span> <span class="n">lastState</span><span class="p">)</span>
    <span class="kr">return</span> <span class="p">{</span>
        <span class="n">someValue</span> <span class="o">=</span> <span class="n">nextProps</span><span class="p">.</span><span class="n">someValue</span>
    <span class="p">}</span>
<span class="kr">end</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>getDerivedStateFromProps</code> is a <em>static</em> lifecycle method. It does not have access to <code>self</code>, and must be a pure function.</p>
</div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../advanced/context/" title="Context" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Context
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.02434462.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>